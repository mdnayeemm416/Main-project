if (self.CavalryLogger) { CavalryLogger.start_js(["8P19QRO"]); }

__d("CometVideoHomeHeroUnitLeftBottomSection_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"},b={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometVideoHomeHeroUnitLeftBottomSection_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[a,b],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometVideoHomeFeedUnitUFISummaryAndActions_feedback"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometVideoHomeFeedUnitUFISummaryAndActions_shareable"}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[b,a],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"live_status",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"owner_as_page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"VideoOwner",abstractKey:"__isVideoOwner"}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("CometVideoHomeHeroUnitPlayerSurface_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometVideoHomeHeroUnitPlayerSurface_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometTahoeUpNextOverlayAndEndScreenWrapperConditionalLoader_video"}]},{args:null,kind:"FragmentSpread",name:"VideoPlayerCometFeedStoryControls_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWithLiveVideoIndicator_video"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerWithVideoCardsOverlay_video"}]},{alias:null,args:[{kind:"Literal",name:"supported",value:["CometProductTagFeedOverlayRenderer"]}],concreteType:null,kind:"LinkedField",name:"comet_product_tag_feed_overlay_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometVideoHomeHeroUnitPlayerSurface_video",fragmentName:"CometProductTagFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagFeedOverlayRenderer",abstractKey:null}],storageKey:'comet_product_tag_feed_overlay_renderer(supported:["CometProductTagFeedOverlayRenderer"])'}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("CometVideoHomeHeroUnitPlayer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometVideoHomeHeroUnitPlayer_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoBlurBackgroundContainer_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerRelay_video"},{args:null,kind:"FragmentSpread",name:"CometVideoHomeHeroUnitPlayerSurface_video"},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_pay_to_access_paywall",plural:!1,selections:[{args:null,documentName:"CometVideoHomeHeroUnitPlayer_video",fragmentName:"CometPayToAccessPaywallConditionalLoader_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("CometVideoHomeHeroUnitSidePane_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"skipFetchingChaining"}],kind:"Fragment",metadata:null,name:"CometVideoHomeHeroUnitSidePane_story",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometTahoeVideoContextSectionBody_video"},{args:null,kind:"FragmentSpread",name:"CometTahoeVideoContextSectionHeader_video"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometTahoeUFIChainingSection_video"}]},{condition:"skipFetchingChaining",kind:"Condition",passingValue:!1,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometTahoeChainingTailLoadSection_video"}]},{args:null,kind:"FragmentSpread",name:"CometTahoeChainingTailLoadSection_videoOwner"}]}],type:"Video",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometVideoHomeHeroUnit_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometVideoHomeHeroUnit_story",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometVideoHomeHeroUnitPlayer_video"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometVideoHomeHeroUnitLeftBottomSection_video"}]}],type:"Video",abstractKey:null}],storageKey:null}],storageKey:null},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometVideoHomeHeroUnitSidePane_story"}]}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("XCometWatchSearchControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/watch/search/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("useCometWatchSearchRouteUrlBuilder",["Base64","XCometWatchSearchControllerRouteBuilder","react","useSearchCometResultsCommonRouteParamBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.watchSerpType;a=babelHelpers.objectWithoutPropertiesLoose(a,["watchSerpType"]);var d=c("useSearchCometResultsCommonRouteParamBuilder")(a);return h(function(a){a=babelHelpers["extends"]({},d.build(a));b!=null&&(a.watch_config=c("Base64").encode(JSON.stringify({watch_serp_type:b})));return c("XCometWatchSearchControllerRouteBuilder").buildURL(a)},[d,b])}g["default"]=a}),98);
__d("CometWatchScopedTypeaheadDialogTrigger.react",["fbt","ix","TetraCircleButton.react","cometSearchEntityScopedTypeaheadDialogFallback","fbicon","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(a){a=a.dialogEntryPoint;a=c("useCometEntryPointDialog")(a,Object.freeze({}),"button",c("cometSearchEntityScopedTypeaheadDialogFallback"));var b=a[0],e=a[1],f=a[2],g=a[3];a=a[4];var l=k(function(){b({})},[b]);return j.jsx(c("TetraCircleButton.react"),{icon:d("fbicon")._(i("491283"),20),label:h._("Search"),onHoverIn:f,onHoverOut:g,onPress:l,onPressIn:a,ref:e,size:36,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometWatchScopedTypeahead.config",[],(function(a,b,c,d,e,f){"use strict";a={dataSources:{keywordDataSourceParams:{queryVariables:{fetch_count:8,fetch_mode:"video_home_search_keyword_only"}}},logging:{sessionContext:"WATCH_SCOPED"},view:{renderLimit:8}};f["default"]=a}),66);
__d("CometWatchScopedTypeahead.react",["fbt","BaseTypeahead.react","CometErrorBoundary.react","CometSearchScopedTypeaheadInputStrategy.react","CometSearchScopedTypeaheadStyles","CometSearchTypeaheadBaseViewRecentEmptyState.react","CometTypeaheadErrorFallback.react","CometTypeaheadLayoutContextualStrategy.react","CometWatchScopedTypeaheadViewItem.react","cometWatchScopedTypeahead.config","react","useCometSearchRecentDataSourceContextDecorator","useCometSearchRoutingQueryString","useCometSearchScopedTypeaheadDataSource","useCometSearchScopedTypeaheadPressEntryHandler","useCometSearchScopedTypeaheadSelectFreeformQueryHandler","useCometSearchTypeaheadLoggingProvider","useCometTypeaheadStateQueryString","useCometTypeaheadViewListStrategy","useCometWatchSearchRouteUrlBuilder","useSearchCometRecentSearchDataSource","useStable","withSearchCometTypeaheadBaseNavigationDecorator"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={inputBackground:{backgroundColor:"tdjehn4e"},paddingHorizontal:{paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a"},typeaheadViewAllRoundedCorner:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi"}},l=h._("Search videos");function a(a){var b=a.isInWebwashBackground;b=b===void 0?!1:b;var e=a.placeholder;e=e===void 0?l:e;a=babelHelpers.objectWithoutPropertiesLoose(a,["isInWebwashBackground","placeholder"]);var f=c("useCometWatchSearchRouteUrlBuilder")({entryPointSurface:a.entryPointSurface,watchSerpType:1}),g=c("useCometSearchTypeaheadLoggingProvider")({context:"watch_scoped"}),m=c("useCometTypeaheadStateQueryString")(c("useCometSearchRoutingQueryString")()),n=m[0];m=m[1];var o=c("useCometSearchScopedTypeaheadDataSource")({config:c("cometWatchScopedTypeahead.config"),recentDataSource:c("useSearchCometRecentSearchDataSource")({filter:"video_search"})}),p=c("useCometSearchRecentDataSourceContextDecorator")(o),q=j(function(){return[p]},[p]),r=c("useCometSearchScopedTypeaheadPressEntryHandler")({loggingProvider:g,urlBuilder:f});f=c("useCometSearchScopedTypeaheadSelectFreeformQueryHandler")({loggingProvider:g,urlBuilder:f});var s=c("useCometTypeaheadViewListStrategy")({emptyStateContent:i.jsx(c("CometSearchTypeaheadBaseViewRecentEmptyState.react"),{}),viewItemStrategyRenderer:c("CometWatchScopedTypeaheadViewItem.react"),viewXStyle:[d("CometSearchScopedTypeaheadStyles").typeaheadView,b&&k.typeaheadViewAllRoundedCorner]}),t={inputXStyle:[d("CometSearchScopedTypeaheadStyles").typeaheadInput,k.paddingHorizontal]},u=c("useStable")(function(){return c("withSearchCometTypeaheadBaseNavigationDecorator")(c("BaseTypeahead.react"))});return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("CometTypeaheadErrorFallback.react"),{})},children:i.jsx(u,{dataSource:o,decorators:q,inputExtraProps:b?{xstyle:k.inputBackground}:{},inputStrategyRenderer:c("CometSearchScopedTypeaheadInputStrategy.react"),label:h._("Search videos"),layoutStrategyRenderer:c("CometTypeaheadLayoutContextualStrategy.react"),loggingProvider:g,onChange:m,onPressEntry:(u=a==null?void 0:a.onPressEntry)!=null?u:r,onSelectFreeformQuery:(o=a==null?void 0:a.onSelectFreeformQuery)!=null?o:f,placeholder:e,queryString:n,testid:void 0,viewStrategyRenderer:s,xstyles:t})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometVideoHomeHeroUnitPlayer.react",["CometRelay","CometSetWatchAndScrollVideoContext","CometVideoHomeHeroUnitPlayer_video.graphql","CometVideoHomePortalingPlaceholder.react","CometWatchAndScrollTriggerContextProvider","CometWatchAndScrollVideoContext","VideoBlurBackgroundContainer.react","VideoHomeLoggingExternalLogIDContext","VideoPlayerLoggingSuboriginContext","VideoPlayerRelay.react","deferredLoadComponent","gkx","react","requireDeferredForDisplay","unrecoverableViolation","useFeedUnitAutoplayOverride","useInjectionPortalingFromVideoIDCloseWatchAndScroll"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useContext,k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometVideoHomeHeroUnitPlayerSurface.react").__setRef("CometVideoHomeHeroUnitPlayer.react"));function a(a){var e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometVideoHomeHeroUnitPlayer_video.graphql"),a.video),f=j(c("VideoHomeLoggingExternalLogIDContext")),g=j(c("VideoPlayerLoggingSuboriginContext")),l=c("useInjectionPortalingFromVideoIDCloseWatchAndScroll")(),m=j(c("CometSetWatchAndScrollVideoContext")),n=j(c("CometWatchAndScrollVideoContext")),o=c("useFeedUnitAutoplayOverride")(e.id);o=c("gkx")("2889")&&o?"do_not_autoplay":"dangerously_always_autoplay";if(e==null)return null;if(g==null)throw c("unrecoverableViolation")("Missing or empty subOrigin. Did you forget the VideoHomeLoggingSuboriginContext provider or the value in it?","watch_www_bug_rotation");var p=e==null?void 0:e.if_viewer_can_see_pay_to_access_paywall;o=i.jsx(c("VideoPlayerRelay.react"),{canAutoplay:o,externalLogID:f,initialForceHD:!0,portalingEnabled:!0,portalingFromVideoID:l,portalingPlaceMetaData:{placeDescription:"watch_feed"},portalingRenderPlaceholder:function(){return i.jsx(c("CometVideoHomePortalingPlaceholder.react"),{onPressWatchAndScrollPlaceholder:function(){m(null)},watchAndScrollVideo:n})},startTimestamp:a.startTimestamp,subOrigin:g,video:e,children:i.jsx(k,{positionInUnit:-1,subOrigin:g,video:e})});return i.jsx("div",{className:"k4urcfbm l9j0dhe7 datstx6m tqsryivl",children:p!=null?i.jsx(d("CometRelay").MatchContainer,{match:p}):i.jsx(c("CometWatchAndScrollTriggerContextProvider"),{children:i.jsx(c("VideoBlurBackgroundContainer.react"),{lightBackgroundInLightMode:!0,video:e,children:o})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometVideoHomeHeroUnit.react",["CometErrorBoundary.react","CometPagelet.react","CometRelay","CometSetWatchAndScrollVideoContext","CometTahoeUFIContext","CometVideoHomeHeroUnitPlayer.react","CometVideoHomeHeroUnit_story.graphql","CometVideoHomeNewPermalinkConstans","deferredLoadComponent","gkx","qex","react","requireDeferredForDisplay","stylex","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useCallback,k=e.useContext,l=e.useRef,m=e.useState,n=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometVideoHomeHeroUnitLeftBottomSection.react").__setRef("CometVideoHomeHeroUnit.react")),o=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometVideoHomeHeroUnitSidePane.react").__setRef("CometVideoHomeHeroUnit.react")),p={content:{display:"j83agx80",width:"k4urcfbm"},contentInNewGrid:{marginEnd:"ad2k81qe",marginStart:"f9o22wc5",width:"iq01arzp"},left:{display:"j83agx80",flexDirection:"cbu4d94t",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"k4urcfbm"},player:{flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},root:{backgroundColor:"cwj9ozl2",display:"j83agx80",height:"datstx6m"}};function a(a){var e,f=d("CometRelay").useFragment(h!==void 0?h:h=b("CometVideoHomeHeroUnit_story.graphql"),a.story);e=f==null?void 0:(e=f.attachments)==null?void 0:(e=e[0])==null?void 0:e.media;var g=k(c("CometSetWatchAndScrollVideoContext")),q=j(function(){g(null)},[g]);q=c("useVisibilityObserver")({onVisible:q});var r=c("gkx")("976093")&&!!c("qex")._("483"),s=c("gkx")("1250838")&&!!c("qex")._("267")||c("gkx")("976093")&&!r,t=m(s||r?d("CometTahoeUFIContext").TahoeCommentComposerConfigEnum.COMPOSER_AND_ALL_COMMENTS:d("CometTahoeUFIContext").TahoeCommentComposerConfigEnum.COMPOSER_ONLY),u=t[0],v=t[1],w=l(null);t=j(function(a){v(d("CometTahoeUFIContext").TahoeCommentComposerConfigEnum.COMPOSER_AND_ALL_COMMENTS);var b=w.current;b!=null&&(b.Actions.expandList({focusComposer:!0,scrollToComposer:!0}),a.type!=="press"&&a.preventDefault())},[]);function x(){u===d("CometTahoeUFIContext").TahoeCommentComposerConfigEnum.COMPOSER_AND_ALL_COMMENTS?v(d("CometTahoeUFIContext").TahoeCommentComposerConfigEnum.COMPOSER_ONLY):v(d("CometTahoeUFIContext").TahoeCommentComposerConfigEnum.COMPOSER_AND_ALL_COMMENTS)}if(e==null)return null;var y=46,z=49,A=d("CometVideoHomeNewPermalinkConstans").MAX_UNIT_HEIGHT_IN_NEW_GRID-y-z;y=d("CometVideoHomeNewPermalinkConstans").FB_TOP_NAV_HEIGHT+d("CometVideoHomeNewPermalinkConstans").WATCH_TOP_NAV_HEIGHT+y+z+d("CometVideoHomeNewPermalinkConstans").BOTTOM_GAP_HEIGHT;z={maxWidth:"calc(100vw - 400px)",width:"calc(min((100vh - "+y+"px) / 9 * 16, "+A+"px / 9 * 16))"};return i.jsx(c("CometErrorBoundary.react"),{children:i.jsx("div",{className:c("stylex")(p.root),ref:q,children:i.jsxs("div",{className:c("stylex")(p.content,p.contentInNewGrid),children:[i.jsxs("div",{className:c("stylex")(p.left,d("CometVideoHomeNewPermalinkConstans").leftPaneInNewGrid),style:z,children:[i.jsx(d("CometPagelet.react").Placeholder,{className:c("stylex")(p.player),fallback:null,name:"WatchPermalinkVideo",pageletType:"media",children:i.jsx(c("CometVideoHomeHeroUnitPlayer.react"),{startTimestamp:a.startTimestamp,video:e})}),i.jsx(n,{onCommentClick:!s&&!r?t:function(){},toggleCommentComposerConfiguration:!s&&!r?x:function(){},video:e})]}),i.jsx(o,{commentComposerConfig:u,commentListRef:w,hideUpNextVideos:s,onCommentClick:!s&&!r?t:function(){},story:f,toggleCommentComposerConfiguration:!s&&!r?x:function(){}})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometVideoHomeHeroUnitLeftBottomSection.react",["fbt","ix","CometRelay","CometTextWithEntitiesRelay.react","CometVideoHomeFeedUnitUFISummaryAndActions.react","CometVideoHomeHeroUnitLeftBottomSection_video.graphql","CometVideoHomeVideoContextMenu.react","TetraButton.react","TetraTextPairing.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");function a(a){var e,f,g,l,m=d("CometRelay").useFragment(j!==void 0?j:j=b("CometVideoHomeHeroUnitLeftBottomSection_video.graphql"),a.video),n=m==null?void 0:m.creation_story,o=m==null?void 0:m.feedback;e=(e=n==null?void 0:n.shareable)!=null?e:null;var p=m.id,q=m.title,r=q==null?void 0:q.text;f=(f=m.creation_story)==null?void 0:f.message;g=(g=m.creation_story)==null?void 0:(g=g.message)==null?void 0:g.text;l=(l=m.owner)==null?void 0:(l=l.owner_as_page)==null?void 0:l.name;m=m.live_status;r=q!=null&&r!=null&&r!=="";g=f!=null&&g!=null&&g!=="";m=m==="IS_LIVE"?h._("{owner name} is live",[h._param("owner name",l)]):m==="WAS_LIVE"?h._("{owner name} was live",[h._param("owner name",l)]):null;return k.jsxs("div",{className:"k4urcfbm mt3fbsrg cbu4d94t j83agx80 cwj9ozl2 o8rfisnq",children:[k.jsxs("div",{className:"i1fnvgqd j83agx80",children:[k.jsx("div",{className:"ihqw7lf3 discj3wi tw6a2znq d1544ag0 stjgntxs ni8dbmo4 cwj9ozl2",children:k.jsx(c("TetraTextPairing.react"),{headline:q&&r?k.jsx(c("CometTextWithEntitiesRelay.react"),{textWithEntities:q}):f&&g?k.jsx(c("CometTextWithEntitiesRelay.react"),{textWithEntities:f}):m,headlineLineLimit:!r&&g?2:1,level:2})}),k.jsx("div",{className:"tw6a2znq d1544ag0 j83agx80 bp9cbjyn",children:k.jsx(c("CometVideoHomeVideoContextMenu.react"),{button:function(a,b){return k.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("484389"),16),label:h._("More"),labelIsHidden:!0,onPress:b,ref:a,type:"secondary"})},storyDebugInfo:n==null?void 0:n.debug_info,videoChannelType:"video_home_feed_www",videoID:p,videoMenuLocation:"VIDEO_HOME_VIDEO_STORY"})})]}),o!=null?k.jsx("div",{className:"sj5x9vvc cxgpxx05 ozuftl9m tvfksri0 l6v480f0",children:k.jsx(c("CometVideoHomeFeedUnitUFISummaryAndActions.react"),{feedLocation:"VIDEO_PERMALINK",feedback:o,feedbackSource:60,onClickCommentsCount:a.toggleCommentComposerConfiguration,onCommentClick:a.onCommentClick,shareable:(l=e)!=null?l:null})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometVideoHomeHeroUnitPlayerSurface.react",["CometPlaceholder.react","CometRelay","CometUFIVideoPlayerUtils","CometVideoHomeFeedUnitPositionContext","CometVideoHomeHeroUnitPlayerSurface_video.graphql","TahoeTypedLogger","VideoHomeLoggingReactionVideoChannelTypeContext","VideoPlayerCometFeedStoryControls.react","VideoPlayerHooks","VideoPlayerInteractionHintOverlay.react","VideoPlayerInteractionOverlay.react","VideoPlayerSurface.react","VideoPlayerWithAutoCenterOnUserInitiatedPlay.react","VideoPlayerWithLiveVideoIndicator.react","VideoPlayerWithPermalinkShareID.react","VideoPlayerWithVideoHomeAutoAdvance.react","VideoPlayerWithVideoHomeFunnelLogging.react","VideoPlayerWithVideoHomeLogging.react","VideoPlayerWithVideoHomeWatchAndScrollTrigger.react","cr:1613918","deferredLoadComponent","gkx","qex","react","requireDeferred","unrecoverableViolation","useCometFeedStoryVideoAttachmentVideoPressInteraction","usePlayerOriginRouteTracePolicy","useVideoPlayerCometTahoeMouseInteractions","useVideoPlayerDefaultControlsVisibility"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useContext,k=e.useEffect,l=e.useMemo,m=c("deferredLoadComponent")(c("requireDeferred")("CometTahoeUpNextOverlayAndEndScreenWrapperConditionalLoader.react").__setRef("CometVideoHomeHeroUnitPlayerSurface.react")),n=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerWithVideoCardsOverlay.react").__setRef("CometVideoHomeHeroUnitPlayerSurface.react"));function a(a){var e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometVideoHomeHeroUnitPlayerSurface_video.graphql"),a.video),f=a.positionInUnit,g=a.subOrigin;a=j(c("VideoHomeLoggingReactionVideoChannelTypeContext"));var o=e.id;if(o==null)throw c("unrecoverableViolation")("Video ID cannot be null","watch_www_bug_rotation");var p=null,q=e.comet_product_tag_feed_overlay_renderer!=null;q=c("useCometFeedStoryVideoAttachmentVideoPressInteraction")({adID:null,hasProductTags:q,logProductTagPostClickComponent:"CometVideoHomeHeroUnit",logProductTagPostClickReferralCodePrefix:"product_tag_on_video_home_",logProductTagPostClickSurface:"video_home",positionInUnit:f,reactionVideoChannelType:a,shouldClickToPause:!0,subOrigin:g,videoChainingCaller:"CHANNEL_VIEW_FROM_VIDEO_HOME",videoID:o,videoTahoeUrl:p});var r=c("useVideoPlayerDefaultControlsVisibility")(),s=r.isControlsVisible;r=r.onUserInteraction;var t=l(function(){return{subOrigin:g,videoTahoeUrl:p}},[g,p]),u=d("VideoPlayerHooks").useController(),v=j(c("CometVideoHomeFeedUnitPositionContext"));k(function(){u.setAdditionalLogData("feed_position",v)},[v,u]);var w=c("usePlayerOriginRouteTracePolicy")(),x=c("useVideoPlayerCometTahoeMouseInteractions")(),y=function(a){new(c("TahoeTypedLogger"))().setEvent(a).setMediaID(o).log()},z=c("gkx")("1250838")&&!!c("qex")._("1860135")||c("gkx")("976093")&&!!c("qex")._("483");return i.jsxs(c("VideoPlayerSurface.react"),{children:[i.jsx(c("VideoPlayerCometFeedStoryControls.react"),{isAdVideo:!1,isVisible:s,onUserInteraction:r,reactionVideoChannelType:a,subOrigin:g,video:e,videoTahoeUrl:p}),i.jsx(d("CometUFIVideoPlayerUtils").CometUFIVideoPlayerStateAndControllerExtractor,{data:t}),i.jsx(c("VideoPlayerInteractionHintOverlay.react"),{interaction:q,isVisible:s}),i.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:q}),i.jsx(c("VideoPlayerWithAutoCenterOnUserInitiatedPlay.react"),{}),i.jsx(c("VideoPlayerWithLiveVideoIndicator.react"),{hasCometNavOverlay:!1,video:e}),i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(n,{surface:"COMET_HERO",video:e})}),z?null:i.jsx(c("VideoPlayerWithVideoHomeAutoAdvance.react"),{}),i.jsx(c("VideoPlayerWithVideoHomeFunnelLogging.react"),{positionInFeed:f}),b("cr:1613918")?i.jsx(b("cr:1613918"),{}):null,i.jsx(c("VideoPlayerWithVideoHomeLogging.react"),{reactionVideoChannelType:a}),!!c("qex")._("1785180")&&i.jsx(c("VideoPlayerWithVideoHomeWatchAndScrollTrigger.react"),{}),i.jsx(c("VideoPlayerWithPermalinkShareID.react"),{}),i.jsx(d("CometRelay").MatchContainer,{match:e.comet_product_tag_feed_overlay_renderer,props:{areControlsVisible:s,referralSurface:"video_home"}}),z?i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(m,{initialTracePolicy:w,logTahoeEvent:y,openNextVideoInPermalink:!0,pressInteraction:x,reactionVideoChannelType:a,subOrigin:g,video$key:e,videoID:o},o)}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometVideoHomeHeroUnitSidePane.react",["fbt","Actor","CometPlaceholder.react","CometRelay","CometTahoeSidePaneGlimmer.react","CometTahoeUFIChainingSection.react","CometTahoeVideoContextSectionBody.react","CometTahoeVideoContextSectionHeader.react","CometVideoHomeHeroUnitSidePane_story.graphql","CometVideoHomeNewPermalinkConstans","cr:11413","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").startTransition,l={contextSection:{paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a",paddingTop:"discj3wi"},root:{backgroundColor:"cwj9ozl2",display:"j83agx80",flexDirection:"cbu4d94t",flexShrink:"pfnyh3mw",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},rootScrollable:{overflowX:"d76ob5m9",overflowY:"eg9m0zos"}};function a(a){var e=d("CometRelay").useFragment(i!==void 0?i:i=b("CometVideoHomeHeroUnitSidePane_story.graphql"),a.story),f=d("Actor").useActor(),g=f[1];f=function(a){k(function(){return g(a)})};e=(e=e.attachments)==null?void 0:(e=e[0])==null?void 0:e.media;if(e==null)return null;var m=46,n=49,o=d("CometVideoHomeNewPermalinkConstans").MAX_UNIT_HEIGHT_IN_NEW_GRID-m-n;m=d("CometVideoHomeNewPermalinkConstans").FB_TOP_NAV_HEIGHT+d("CometVideoHomeNewPermalinkConstans").WATCH_TOP_NAV_HEIGHT+m+n+d("CometVideoHomeNewPermalinkConstans").BOTTOM_GAP_HEIGHT;n={width:"calc(100vw - min((100vh - "+m+"px) / 9 * 16, "+o+"px / 9 * 16))"};return j.jsx("div",{className:c("stylex")(l.root,d("CometVideoHomeNewPermalinkConstans").rightPaneAdjustableWidth,l.rootScrollable,d("CometVideoHomeNewPermalinkConstans").rightPaneInNewGrid),style:n,children:j.jsxs(c("CometPlaceholder.react"),{fallback:j.jsx(c("CometTahoeSidePaneGlimmer.react"),{}),children:[j.jsxs("div",{className:c("stylex")(l.contextSection),children:[j.jsx(c("CometTahoeVideoContextSectionHeader.react"),{expandFollowButton:!0,hideThreeDot:!0,video:e}),j.jsx(c("CometTahoeVideoContextSectionBody.react"),{hideTitle:!0,video:e})]}),j.jsx(c("CometTahoeUFIChainingSection.react"),{chainingVideosComponent:j.jsx("div",{children:b("cr:11413")!=null?j.jsx(b("cr:11413"),{chainingItemOpenInTahoe:!1,headerTextOverride:h._("Suggested"),video:e,videoOwner:e}):null}),commentComposerConfig:a.commentComposerConfig,commentListRef:a.commentListRef,hideCommentsRowWhenNotExpanded:!0,hideUFI:!0,hideUpNextVideos:a.hideUpNextVideos===!0,onActorSelected:f,onCommentClick:a.onCommentClick,setShowCommentsSpeakers:function(){},toggleCommentComposerConfiguration:a.toggleCommentComposerConfiguration,video:e})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LeftRight.react",["cx","invariant","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.getChildrenArr=function(){var a=[];j.Children.forEach(this.props.children,function(b){return a.push(b)});return a};d.render=function(){var a=this.getChildrenArr();a.length===1||a.length===2||i(0,5615);var d=this.props.direction||b.DIRECTION.both,e=d===b.DIRECTION.both,f=e||d===b.DIRECTION.left?"_ohe lfloat":"";e=e||d===b.DIRECTION.right?"_ohf rfloat":"";f=j.jsx("div",{className:f,children:a[0]},"left");e=a.length<2?null:j.jsx("div",{className:e,children:a[1]},"right");a=d===b.DIRECTION.right&&e?[e,f]:[f,e];d=this.props;f=d.root;e=babelHelpers.objectWithoutPropertiesLoose(d,["root"]);return j.jsx("div",babelHelpers["extends"]({},e,{ref:f,className:c("joinClasses")(this.props.className,"clearfix"),children:a}))};return b}(j.Component);a.DIRECTION={left:"left",right:"right",both:"both"};g["default"]=a}),98);
__d("XUIDialogTitle.react",["cx","fbt","LeftRight.react","XUICloseButton.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=null,b=this.props,d=b.closeButtonText,e=b.showCloseButton,f=b.closeButtonSize,g=b.closeButtonClassName;b=babelHelpers.objectWithoutPropertiesLoose(b,["closeButtonText","showCloseButton","closeButtonSize","closeButtonClassName"]);e&&(a=j.jsx(c("XUICloseButton.react"),{size:f,"data-testid":void 0,label:d,className:c("joinClasses")(g,"layerCancel _51-t _9l15"),onClick:this.props.onCloseClick}));f=j.Children.toArray(this.props.children);return j.jsx("div",babelHelpers["extends"]({},b,{className:c("joinClasses")(this.props.className,"_4-i0 _9l16"+(e?" _2gb3":"")),children:j.jsxs(c("LeftRight.react"),{children:[j.jsx("h3",{className:"_52c9 _9l17","data-hover":"tooltip","data-tooltip-display":"overflow",children:f[0]}),j.jsxs("div",{className:"_51-u",children:[f.slice(1),a]})]})}))};return b}(j.Component);a.defaultProps={closeButtonText:i._("Close"),showCloseButton:!0,closeButtonSize:"medium"};g["default"]=a}),98);
__d("ScrollAwareDOM",["ArbiterMixin","CSS","DOM","DOMDimensions","HTML","Vector","ViewportBounds","getDocumentScrollElement","getElementPosition","getViewportDimensions","isAsyncScrollQuery","isNode"],(function(a,b,c,d,e,f,g){function a(a,b){return function(){var c=arguments;k.monitor(arguments[a],function(){b.apply(null,c)})}}function h(a){a instanceof Array||(a=[a]);for(var b=0;b<a.length;b++){var d=c("HTML").replaceJSONWrapper(a[b]);if(d instanceof c("HTML"))return d.getRootNode();else if(c("isNode")(d))return d}return null}function i(a){return c("getElementPosition")(a).y>c("ViewportBounds").getTop()}function j(a){a=c("getElementPosition")(a).y+d("DOMDimensions").getElementDimensions(a).height;var b=c("getViewportDimensions")().height-c("ViewportBounds").getBottom();return a>=b}var k=babelHelpers["extends"]({monitor:function(a,b){if(c("isAsyncScrollQuery")())return b();a=h(a);if(a){var d=!!a.offsetParent;if(d&&(i(a)||j(a)))return b();var e=c("Vector").getDocumentDimensions(),f=b();if(d||a.offsetParent&&!i(a)){d=c("Vector").getDocumentDimensions().sub(e);e={delta:d,target:a};k.inform("scroll",e)!==!1&&d.scrollElementBy(c("getDocumentScrollElement")())}return f}else return b()},replace:function(a,b){var e=h(b);(!e||d("CSS").hasClass(e,"hidden_elem"))&&(e=a);return k.monitor(e,function(){c("DOM").replace(a,b)})},prependContent:a(1,c("DOM").prependContent),insertAfter:a(1,c("DOM").insertAfter),insertBefore:a(1,c("DOM").insertBefore),setContent:a(0,c("DOM").setContent),appendContent:a(1,c("DOM").appendContent),remove:a(0,c("DOM").remove),empty:a(0,c("DOM").empty)},d("ArbiterMixin"));b=k;g["default"]=b}),98);
__d("Toggler",["csx","invariant","$","Arbiter","ArbiterMixin","CSS","ContextualThing","DOM","DataStore","Event","Focus","Keys","Parent","TabbableElements","TimeSlice","createArrayFromMixed","emptyFunction","ge","getContextualParent","getObjectValues","killswitch","mixin","queryThenMutateDOM","setImmediate"],(function(a,b,c,d,e,f,g,h,i){var j=[],k,l=!1;function m(){l||(l=!0,c("setImmediate")(function(){l=!1}))}var n=function(){n=c("emptyFunction"),c("Event").listen(document.documentElement,"click",function(a){if(l)return;var b=a.getTarget();j.forEach(function(a){a.clickedTarget=b,a.active&&!a.sticky&&!d("ContextualThing").containsIncludingLayers(a.getActive(),b)&&!a.inTargetFlyout(b)&&a.inActiveDialog()&&!a.isIgnoredByModalLayer(b)&&a.hide()})},c("Event").Priority.URGENT)},o=function(e){babelHelpers.inheritsLoose(b,e);function b(){var a;a=e.call(this)||this;a.active=null;a.togglers={};a.setSticky(!1);j.push(babelHelpers.assertThisInitialized(a));a.subscribe(["show","hide"],b.inform.bind(b));return n()||babelHelpers.assertThisInitialized(a)}var f=b.prototype;f.focusFirstTabbableDescendant=function(a,b){if(!c("killswitch")("TOGGLER_FAST_SHOW")){b.$Toggler2&&b.$Toggler2.cancel();var e=null;b.$Toggler2=c("queryThenMutateDOM")(function(){var b=a.querySelector(".uiToggleFlyout");b&&(e=d("TabbableElements").findFirst(b)||b)},function(){delete b.$Toggler2,e&&(e.tabIndex==null&&(e.tabIndex=-1),d("Focus").setWithoutOutline(e))})}else{var f=a.querySelector(".uiToggleFlyout");if(f){f=d("TabbableElements").find(f)[0]||f;f.tabIndex==null&&(f.tabIndex=-1);d("Focus").setWithoutOutline(f)}}};f.show=function(a){var b=p(this,a),e=b.active;if(a!==e){e&&b.hide();b.active=a;d("CSS").addClass(a,"openToggler");e=c("DOM").scry(a,'a[rel="toggle"]');e.length>0&&e[0].getAttribute("data-target")&&d("CSS").removeClass(c("$")(e[0].getAttribute("data-target")),"toggleTargetClosed");this.focusFirstTabbableDescendant(a,b);e.length>0&&(c("DOM").appendContent(a,b.getToggler("next")),c("DOM").prependContent(a,b.getToggler("prev")));c("Event").listen(a,"keydown",function(d){if(c("Event").getKeyCode(d)===c("Keys").ESC&&b.isShown()){var e=c("DOM").scry(a,'a[rel="toggle"]')[0];e&&e.focus();b.hide();d.kill()}});a.getAttribute("data-toggle-wc")&&(b.__continuation=c("TimeSlice").getGuardedContinuation("Toggler.show inform"));b.inform("show",b,"state")}};f.hide=function(a){var b=p(this,a);b.$Toggler2&&b.$Toggler2.cancel();var e=b.active;if(e&&(!a||a===e)){d("CSS").removeClass(e,"openToggler");a=c("DOM").scry(e,'a[rel="toggle"]');a.length>0&&a[0].getAttribute("data-target")&&d("CSS").addClass(c("$")(a[0].getAttribute("data-target")),"toggleTargetClosed");c("getObjectValues")(b.togglers).forEach(c("DOM").remove);e.getAttribute("data-toggle-wc")&&(b.__continuation=c("TimeSlice").getGuardedContinuation("Toggler.hide inform"));b.inform("hide",b,"state");b.active=null}};f.toggle=function(a){var b=p(this,a);b.active===a?b.hide():b.show(a);m()};f.getActive=function(){return p(this).active};f.isShown=function(){return p(this).active&&d("CSS").hasClass(p(this).active,"openToggler")};b.isNodeShown=function(a){return d("CSS").hasClass(a,"openToggler")};f.inTargetFlyout=function(a){var b=q(this.getActive());return Boolean(b&&d("ContextualThing").containsIncludingLayers(b,a))};f.inActiveDialog=function(){var b=a.Dialog&&a.Dialog.getCurrent();return!b||c("DOM").contains(b.getRoot(),this.getActive())};f.isIgnoredByModalLayer=function(a){a=!!d("Parent").bySelector(a,"._3qw");var b=!!d("Parent").bySelector(this.getActive(),"._3qw");return a&&!b};f.getToggler=function(a){var b=p(this);b.togglers[a]||(b.togglers[a]=c("DOM").create("button",{className:"hideToggler",onfocus:function(){var a=c("DOM").scry(b.active,'a[rel="toggle"]')[0];a&&a.focus();b.hide()},style:{right:a==="next"?"0":""}}),b.togglers[a].setAttribute("type","button"));return this.togglers[a]};f.setSticky=function(a){var b=p(this);a=a!==!1;a!==b.sticky&&(b.sticky=a,a?b.$Toggler1&&b.$Toggler1.unsubscribe():b.$Toggler1=c("Arbiter").subscribe("pre_page_transition",b.hide.bind(b,null)));return b};f.setPrePageTransitionCallback=function(a){var b=p(this);b.$Toggler1&&b.$Toggler1.unsubscribe();b.$Toggler1=c("Arbiter").subscribe("pre_page_transition",a)};b.bootstrap=function(a){a=a.parentNode;a!=null||i(0,3354);var c=b.getInstance(a);c!=null||i(0,3355);c.toggle(a)};b.createInstance=function(a){var c=new b().setSticky(!0);d("DataStore").set(a,"toggler",c);return c};b.destroyInstance=function(a){var b=d("DataStore").get(a,"toggler");b&&b.$Toggler2&&b.$Toggler2.cancel();d("DataStore").remove(a,"toggler")};b.getInstance=function(a){a=a;while(a){var e=d("DataStore").get(a,"toggler");if(e)return e;if(a instanceof Element)if(d("CSS").hasClass(a,"uiToggleContext"))return b.createInstance(a);else if(!c("killswitch")("JEWEL_TOGGLER_INSTANCE_FIXES")&&d("CSS").hasClass(a,"uiToggleFlyout"))return b.createInstance(a).setSticky(!1);a=c("getContextualParent")(a)}return k=k||new b()};b.listen=function(a,d,e){return b.subscribe(c("createArrayFromMixed")(a),function(a,b){if(b.getActive()===d){if(b.__continuation){var c=b.__continuation;delete b.__continuation;return c(function(){return e(a,b)})}return e(a,b)}})};return b}(c("mixin")(d("ArbiterMixin")));Object.assign(o,o.prototype,d("ArbiterMixin"));Object.assign(o,{subscribe:function(a){return function(b,d){b=c("createArrayFromMixed")(b);b.includes("show")&&j.forEach(function(a){a.getActive()&&setTimeout(d.bind(null,"show",a),0)});return a(b,d)}}(o.subscribe.bind(o))});function p(a,b){return a instanceof o?a:o.getInstance(b)}function q(a){a=c("DOM").scry(a,'a[rel="toggle"]');return a.length>0&&a[0].getAttribute("data-target")?c("ge")(a[0].getAttribute("data-target")):null}g["default"]=o}),98);
__d("LayerTogglerContext",["Toggler"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._root=this._layer.getRoot(),b("Toggler").createInstance(this._root).setSticky(!1)};c.disable=function(){b("Toggler").destroyInstance(this._root),this._root=null};return a}();e.exports=a}),null);
__d("ModalLayer",["csx","cx","Arbiter","ArbiterMixin","CSS","CometVisualCompletionConstants","DOM","DOMDimensions","DOMQuery","DataStore","Event","Scroll","ScrollAwareDOM","Style","UserAgent","Vector","debounceAcrossTransitions","ge","getDocumentScrollElement","isAsyncScrollQuery","removeFromArray","setTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){var j=[],k=null,l=null,m=null;function n(){m||(m=d("DOMQuery").scry(document.body,"._li")[0]||c("ge")("FB4BResponsiveMain"));return m}function o(a){var b={position:c("Vector").getScrollPosition(),listener:void 0},e=a.offsetTop-b.position.y;d("CSS").addClass(a,"_31e");n().id!=="FB4BResponsiveMain"&&c("Style").set(a,"top",e+"px");c("Arbiter").inform("reflow");b.listener=c("ScrollAwareDOM").subscribe("scroll",function(e,f){if(d("DOMQuery").contains(a,f.target)){e=a.offsetTop-f.delta.y;c("Style").set(a,"top",e+"px");b.position=b.position.add(f.delta);return!1}return!0});d("DataStore").set(a,"ModalLayerData",b)}function p(a,b){var e=d("DataStore").get(a,"ModalLayerData");if(e){var f=function(){d("CSS").removeClass(a,"_31e");c("Style").set(a,"top","");if(b){var f=c("getDocumentScrollElement")();d("Scroll").setTop(f,e.position.y);d("Scroll").getTop(f)!==e.position.y&&(d("Scroll").setTop(f,e.position.y+1),d("Scroll").setTop(f,e.position.y))}c("Arbiter").inform("reflow");e.listener.unsubscribe();e.listener=null;d("DataStore").remove(a,"ModalLayerData")};if(b&&c("isAsyncScrollQuery")()){var g=c("DOM").create("div",{className:"_42w"});c("Style").set(g,"height",a.offsetHeight+"px");c("DOM").appendContent(document.body,g);var h=c("getDocumentScrollElement")();d("Scroll").setTop(h,e.position.y);b=!1;c("setTimeout")(function(){f(),c("DOM").remove(g)},0)}else f()}}function q(){var a=n();a!=null&&!d("CSS").matchesSelector(a,"._31e")&&o(a)}function r(){j.length||p(n(),!0)}function s(){var a=j.length;while(a--){var b=j[a],c=b.getLayerRoot();if(c){t(c,0);b=b.getLayerContentRoot();if(b){b=b.offsetWidth+d("DOMDimensions").measureElementBox(b,"width",!1,!1,!0);t(c,b)}}}}function t(a,b){c("Style").set(a,"min-width",b+(b?"px":""))}a=function(){function a(a){this._layer=a,this._enabled=!1}var b=a.prototype;b.enable=function(){if(!n())return;this._subscription=this._layer.subscribe(["show","hide"],function(a){a=="show"?this._addModal():this._removeModal()}.bind(this));this._layer.isShown()&&this._addModal();this._enabled=!0};b.disable=function(){if(!n())return;this._subscription&&this._subscription.unsubscribe();this._layer.isShown()&&this._removeModal();this._enabled=!1};b._addModal=function(){var b=this.getLayerRoot();d("CSS").addClass(b,"_3qw");this._wash=c("DOM").create("div",{className:"_3ixn"});c("DOM").prependContent(b,this._wash);b&&this._layer._config.ignoreVC&&b.setAttribute(d("CometVisualCompletionConstants").ATTRIBUTE_NAME,d("CometVisualCompletionConstants").IGNORE);b=j[j.length-1];b?o(b.getLayerRoot()):q();b=c("getDocumentScrollElement")();d("Scroll").setTop(b,0);if(!j.length){b=c("debounceAcrossTransitions")(s,100);k=c("Event").listen(window,"resize",b);l=c("Arbiter").subscribe("reflow",b)}j.push(this);a.inform("show",this);c("setTimeout")(s,0)};b._removeModal=function(){var b=this,e=this.getLayerRoot();d("CSS").removeClass(e,"_3qw");c("DOM").remove(this._wash);this._wash=null;t(e,0);var f=this===j[j.length-1];c("removeFromArray")(j,this);j.length||(k&&k.remove(),k=null,l&&l.unsubscribe(),l=null);var g;c("UserAgent").isBrowser("Safari")&&(e=c("Event").listen(document.documentElement,"mousewheel",c("Event").prevent),g=e.remove.bind(e));c("setTimeoutAcrossTransitions")(function(){var d=j[j.length-1];d?(p(d.getLayerRoot(),f),a.inform("show",d)):(r(),a.inform("hide",b));j.length&&c("setTimeout")(s,0);c("UserAgent").isBrowser("Safari")&&c("setTimeout")(function(){g()},0)},200)};b.getLayerRoot=function(){return this._enabled?this._layer.getRoot():null};b.getLayerContentRoot=function(){return this._enabled?this._layer.getContentRoot():null};a.getTopmostModalLayer=function(){return j[j.length-1]};return a}();Object.assign(a,d("ArbiterMixin"));g["default"]=a}),98);
__d("DialogPosition",["Vector"],(function(a,b,c,d,e,f,g){var h=40,i;function a(a,b,d,e,f){d===void 0&&(d=null);e===void 0&&(e=!1);f===void 0&&(f=!1);var g=c("Vector").getViewportDimensions(),j=!1;e&&d&&(j=d+b>g.y);if(d!=null&&!j)return d;if(i)return i;e=f?Math.floor((g.y-b)/2):Math.floor((g.x+a)*(g.y-b)/(4*g.x));return Math.max(e,h)}function b(a){i=a}g.calculateTopMargin=a;g.setFixedTopMargin=b}),98);
__d("DialogX",["cx","fbt","Arbiter","CSS","DOMQuery","DialogPosition","Event","JSXDOM","Layer","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerRefocusOnHide","LayerTabIsolation","LayerTogglerContext","ModalLayer","Style","Vector","debounce","getOrCreateDOMID","goURI","isTruthy","shield"],(function(a,b,c,d,e,f,g,h,i){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e._configure=function(b,e){a.prototype._configure.call(this,b,e);e=this.getRoot();e!=null&&d("CSS").addClass(e,"_4-hy");if(b.autohide)var f=this.subscribe("show",function(){f.unsubscribe(),window.setTimeout(c("shield")(this.hide,this),b.autohide)}.bind(this));if(b.redirectURI)var g=this.subscribe("hide",function(){g.unsubscribe();var a=b.redirectURI;a!=null&&c("goURI")(a)});this._fixedTopPosition=b.fixedTopPosition;this._ignoreFixedTopInShortViewport=b.ignoreFixedTopInShortViewport;this._isVerticallyCentered=b.isVerticallyCentered};e._getDefaultBehaviors=function(){return a.prototype._getDefaultBehaviors.call(this).concat([j,c("ModalLayer"),this._config.autofocus===!1?void 0:c("LayerAutoFocus"),c("LayerButtons"),c("LayerFormHooks"),c("LayerTabIsolation"),c("LayerTogglerContext"),c("LayerRefocusOnHide")].filter(c("isTruthy")))};e._buildWrapper=function(a,b){var e=a.xui?"_4t2a":"_t _9l18",f=a.xui?"_59s7 _9l2g":"_1yv";this._innerContent=c("JSXDOM").div(null,b);b={className:f,role:"dialog"};if(a.labelledBy)b["aria-labelledby"]=a.labelledBy;else if(a.label)b["aria-label"]=a.label;else if(a.titleID)b["aria-labelledby"]=a.titleID;else if(a.titleClass){f=d("DOMQuery").scry(this._innerContent,a.titleClass);if(f.length){f=c("getOrCreateDOMID")(f[0]);b["aria-labelledby"]=f}else b["aria-label"]=this._getDefaultLabel()}else b["aria-label"]=this._getDefaultLabel();f={className:e};a["data-testid"]&&(f["data-testid"]=a["data-testid"]);this._wrapper=c("JSXDOM").div(b,c("JSXDOM").div(f,this._innerContent));a.width!=null&&this.setWidth(a.width);a.height!=null&&this.setHeight(a.height);return c("JSXDOM").div({className:"_10"},this._wrapper)};e._getDefaultLabel=function(){return i._("Dialog content")};e.getContentRoot=function(){return this._wrapper};e.getInnerContent=function(){return this._innerContent};e.updatePosition=function(){var a=c("Vector").getElementDimensions(this._wrapper);a=d("DialogPosition").calculateTopMargin(a.x,a.y,this._fixedTopPosition,(a=this._ignoreFixedTopInShortViewport)!=null?a:!1,(a=this._isVerticallyCentered)!=null?a:!1);c("Style").set(this._wrapper,"margin-top",a+"px");this.inform("update_position",{type:"DialogX",top:a});return!0};e.setWidth=function(a){if(a==="100%")this._width=void 0,c("Style").set(this._wrapper,"width","");else{a=Math.floor(a);if(a===this._width)return;this._width=a;c("Style").set(this._wrapper,"width",a+"px")}};e.getWidth=function(){return this._width};e.setHeight=function(a){a=Math.floor(a);if(a===this._height)return;this._height=a;c("Style").set(this._wrapper,"height",a+"px")};e.getFixedTopPosition=function(){return this._fixedTopPosition};e.shouldIgnoreFixedTopInShortViewport=function(){return this._ignoreFixedTopInShortViewport};return b}(c("Layer"));var j=function(){function a(a){this._subscription=null,this._resize=null,this._layer=a}var b=a.prototype;b.enable=function(){this._subscription=this._layer.subscribe(["show","hide"],function(a){a==="show"?(this._attach(),c("Arbiter").inform("layer_shown",{type:"DialogX"})):(this._detach(),c("Arbiter").inform("layer_hidden",{type:"DialogX"}))}.bind(this))};b.disable=function(){var a;(a=this._subscription)==null?void 0:a.unsubscribe();this._subscription=null;this._resize&&this._detach()};b._attach=function(){this._layer.updatePosition(),this._resize=c("Event").listen(window,"resize",c("debounce")(this._layer.updatePosition.bind(this._layer)))};b._detach=function(){var a;(a=this._resize)==null?void 0:a.remove();this._resize=null};return a}();g["default"]=a}),98);
__d("LoadingDialogDimensions",[],(function(a,b,c,d,e,f){a=Object.freeze({HEIGHT:96,WIDTH:300});f["default"]=a}),66);
__d("AsyncDialog",["cx","AsyncRequest","CSS","DOM","DialogX","Keys","LayerFadeOnShow","LoadingDialogDimensions","Parent","ReactDOM","URI","XUIDialogTitle.react","XUISpinner.react","emptyFunction","forEachObject","react"],(function(a,b,c,d,e,f,g){var h,i,j=h||b("react"),k,l;function m(a){var c=b("LoadingDialogDimensions").WIDTH,d;a&&(c=parseInt(a.getAttribute("data-dialog-width"),10)||c,d=a.getAttribute("data-dialog-title")||d);if(!k){var e=(a=b("DOM")).create("div",{className:"_57-x"});k=new(b("DialogX"))({width:c,addedBehaviors:[b("LayerFadeOnShow")],xui:!0},a.create("div",null,e));l=a.create("div");a.insertBefore(e,l);b("ReactDOM").render(j.jsx(b("XUISpinner.react"),{size:"large"}),e);k.subscribe(["key","blur"],function(a,c){if(a=="blur"||a=="key"&&c.keyCode==b("Keys").ESC){q();return!1}})}d?b("ReactDOM").render(j.jsx(b("XUIDialogTitle.react"),{showCloseButton:!1,children:d}),l):b("DOM").empty(l);k.setWidth(c);return k}var n={},o=1,p=[];function q(){b("forEachObject")(n,function(a,b){a.abandon(),r(b)})}function r(a){delete n[a],Object.keys(n).length||m().hide()}function s(a,c){var d=o++;p[d]=c;n[d]=a;var e=r.bind(null,""+d);Object.assign(a.getData(),{__asyncDialog:d});c=a.getRelativeTo();c!=null&&c instanceof HTMLElement&&m(c).setCausalElement(c).show();var f=a.finallyHandler;a.setFinallyHandler(function(a){var c=a.getPayload();c&&c.asyncURL&&t.send(new(b("AsyncRequest"))(c.asyncURL));e();f&&f(a)});var g=a.abortHandler||b("emptyFunction"),h=a.interceptHandler||b("emptyFunction");a.setInterceptHandler(function(){try{h()}finally{e()}}).setAbortHandler(function(){try{g()}finally{e()}});a.send()}var t={send:function(a,c){s(a,c||b("emptyFunction"))},bootstrap:function(a,c,d,e){if(!a)return;var f=b("Parent").byClass(c,"stat_elem")||c;if(f&&b("CSS").hasClass(f,"async_saving"))return!1;var g=new(i||(i=b("URI")))(a).getQueryData();d=d==="dialog";a=new(b("AsyncRequest"))().setURI(a).setData(g).setMethod(d?"GET":"POST").setReadOnly(d).setStatusElement(f);c&&(a.setRelativeTo(c),a.setNectarModuleDataSafe(c));t.send(a,e)},respond:function(a,b){var c=p[a];c&&(c(b),delete p[a])},getLoadingDialog:function(){return m()}};e.exports=t}),null);